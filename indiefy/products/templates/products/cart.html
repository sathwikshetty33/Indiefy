{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link href="https://fonts.googleapis.com/css2?family=Aclonica&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href='https://fonts.googleapis.com/css?family=Aclonica' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        * Header styles */
header {
    background-color: #d9b7a7;
    padding: 15px 20px;
}

.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 15px;
    animation: fadeInDown 0.8s ease-out;
}

.logo {
    display: flex;
    align-items: center;
    animation: slideInLeft 0.5s ease-in;
}

.logo-img {
    width: 40px;
    margin-right: 10px;
}

.navbar nav ul {
    display: flex;
}

.navbar nav ul li a:hover {
    color: #78181B;
}

.navbar nav ul li {
    margin: 0 20px;
}

.navbar nav ul li:hover {
    transform: translateY(-3px);
}

.icons i:hover {
    transform: translateY(-3px);
}

.navbar nav ul li a {
    color: #ffffff;
    font-weight: bold;
}

.icons a i {
    width: 24px;
    margin-left: 20px;
    transition: transform 0.3s ease;
    color: #ffffff;
}
        /* Reusing your existing animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInCard {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #E1CBAA;
            color: #4a2f2a;
            font-family: 'Aclonica', sans-serif;
            animation: fadeInUp 1s ease-out;
        }

        .cart-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            animation: fadeInCard 0.8s ease-out;
        }

        .cart-header {
            background-color: #d9b7a7;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            color: #4a2f2a;
        }

        .cart-items {
            background-color: #c8af91;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #d9b7a7;
            transition: transform 0.3s ease;
        }

        .cart-item:hover {
            transform: translateY(-5px);
        }

        .item-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 20px;
        }

        .item-details {
            flex-grow: 1;
        }

        .item-title {
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .item-price {
            color: #78181B;
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            background-color: #78181B;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .quantity-btn:hover {
            background-color: #933;
        }

        .cart-summary {
            background-color: #c8af91;
            border-radius: 8px;
            padding: 20px;
        }

        .checkout-btn {
            background-color: #78181B;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .checkout-btn:hover {
            background-color: #933;
        }

        .remove-btn {
            background-color: transparent;
            color: #78181B;
            border: 1px solid #78181B;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background-color: #78181B;
            color: white;
        }

        @media (max-width: 768px) {
            .cart-item {
                flex-direction: column;
                text-align: center;
            }

            .item-image {
                margin-right: 0;
                margin-bottom: 10px;
            }

            .quantity-controls {
                justify-content: center;
                margin-top: 10px;
            }
        }


        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            height: 40px;
        }

        nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 20px;
        }

        nav a {
            text-decoration: none;
            color: #333;
        }

        .icons {
            display: flex;
            gap: 20px;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 10px;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: #78181B;
            transition: 0.3s;
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
                z-index: 100;
            }

            .navbar nav {
                position: fixed;
                top: 0;
                right: -100%;
                height: 100vh;
                width: 250px;
                background-color: #C89B9B;
                transition: 0.3s;
                padding: 80px 20px;
            }

            .navbar nav.active {
                right: 0;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            .hamburger.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }

            .hamburger.active span:nth-child(2) {
                opacity: 0;
            }

            .hamburger.active span:nth-child(3) {
                transform: rotate(-45deg) translate(5px, -5px);
            }
        }
</style>
</head>
<body>
     <header style="background-color: #C89B9B;">
        <div class="navbar">
              <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="logo">
                <img id="logo1" src="{% static 'logo.png' %}" alt="Indiefy Logo" class="logo-img">
                <span><b style="color: #78181B;">Indiefy</b></span>
            </div>



            <nav>
                <ul>
                    <li><a href="{%url 'aboutus'%}">About Us</a></li>
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'blog' %}">Blog</a></li>
                    <li><a href="{% url 'contact' %}">Contact Us</a></li>
                </ul>
            </nav>

            <div id="google_translate_element"></div>

            <div class="icons">
               <a href="{% url 'logout' %}"><i class="fa-solid fa-user" style="font-size: 24px; color: black;"></i></a>
<a href="{% url 'cartdetails' %}" style="margin-left: 20px;"><i class="fa-solid fa-cart-shopping" style="font-size: 24px; color: black;"></i></a>

            </div>
        </div>
    </header>
    <div class="cart-container">
        <div class="cart-header">
            <h1>Your Shopping Cart</h1>
        </div>
        {% if not obj2%}
        <div>Your cart is empty</div>
        {%else%}
{% for i in obj2 %}
        <div class="cart-items">
            <div class="cart-item">
                <a href="{% url 'details' i.product.id %}"> <img src="{{i.product.image.url}}" alt="Product 1" class="item-image">
              </a>   <div class="item-details">
                    <h3 class="item-title">{{i.product.name}}</h3>
                    <p class="item-price">{{i.product.price}}</p>
                </div>
                 <div class="quantity-controls">
               <a href="{% url 'itemdec1' i.product.id %}">  <button class="quantity-btn">-</button></a>
                    <span>{{i.quantity}}</span>
                  <a href="{% url 'iteminc1' i.product.id %}">  <button class="quantity-btn">+</button></a>
                </div>
                <a href="{% url 'delcart1' i.product.id %}"><button class="remove-btn">Remove</button></a>
            </div>

{% endfor %}
            {% endif%}
            {% if obj2 %}
        <div class="cart-summary">
            <h2>Order Summary</h2>
            <div style="margin: 20px 0;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>Subtotal</span>
                    <span id="subtotal">{{total}}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>Shipping</span>
                    <span id="shipping">99</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-weight: bold; margin-top: 20px; padding-top: 20px; border-top: 1px solid #d9b7a7;">
                    <span>Total</span>
                    <span id="total">â‚¹4,497</span>
                </div>
            </div>
            <a href="{% url 'address' %}"><button class="checkout-btn">Proceed to Checkout</button></a>
        </div>
    </div>
        {% endif %}
        <script>
            const subtotalElement = document.getElementById('subtotal');
    const shippingElement = document.getElementById('shipping');
    const totalElement = document.getElementById('total');

    // Parse the values as numbers and calculate the total
    const subtotal = parseFloat(subtotalElement.textContent);
    const shipping = parseFloat(shippingElement.textContent);
    const total = subtotal + shipping;

    // Display the total value
    totalElement.textContent = total.toFixed(2); // Optional: .toFixed(2)
        </script>
        <script>
     const hamburger = document.querySelector('.hamburger');
        const nav = document.querySelector('nav');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            nav.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!hamburger.contains(e.target) && !nav.contains(e.target)) {
                hamburger.classList.remove('active');
                nav.classList.remove('active');
            }
        });
    </script>
<script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'hi,bn,te,mr,ta,ur,gu,ml,kn,pa,or,as,ma,sat,bh',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
     <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>